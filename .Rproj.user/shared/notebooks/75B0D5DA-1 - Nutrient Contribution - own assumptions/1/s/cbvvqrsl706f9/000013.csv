"0","plotdata <- data %>% "
"0","  left_join(molarWeight, by = c(""compound"" = ""element"")) %>% "
"0","  # Calculate the molar contribution of nutrients originating from different sources "
"0","  # Final unit: mol/L"
"0","  mutate("
"0","    WaterContribution = dailyFreshwater * concWater_g.m3 / (g_per_mol * totalV *1e3),"
"0","    FeedContribution = dailyFeed * feedComp_g.kg / (g_per_mol * totalV * 1e3)"
"0","    ) %>%"
"0","  select(c(compound, WaterContribution, FeedContribution)) %>%"
"0","  pivot_longer("
"0","    cols = c(WaterContribution, FeedContribution), "
"0","    names_to = 'Contribution', "
"0","    names_pattern = '(.*)Contribution',"
"0","    values_to = 'Total (mol/L)'"
"0","    ) "
"0",""
"0","print(plotdata)"
